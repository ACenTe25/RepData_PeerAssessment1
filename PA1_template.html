<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Alejandro Cendejas Tena" />


<title>Assignment: Course Project 1</title>

<script src="PA1_template_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="PA1_template_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="PA1_template_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="PA1_template_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="PA1_template_files/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="PA1_template_files/highlight/default.css"
      type="text/css" />
<script src="PA1_template_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>




</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="PA1_template_files/navigation-1.0/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">


<h1 class="title">Assignment: Course Project 1</h1>
<h4 class="author"><em>Alejandro Cendejas Tena</em></h4>
<h4 class="date"><em>March 3, 2016</em></h4>

</div>


<div id="activity-data-analysis" class="section level1">
<h1>Activity Data Analysis</h1>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This report is part of an assignment for the online course “Reproducible Research” imparted by Roger Peng, PhD with the Johns Hopkins University through the online platform Coursera.</p>
<p>The project consists on doing some data analysis and documenting the complete process in this report according to the concept of <em>Literate Statistical Programming</em>. The data to be analyzed comes from an activity monitoring device, which collected two months of data in 5 minute intervals during the months of October and November, 2012. The dataset contains the number of steps taken during each interval. (Peng, 2014)</p>
</div>
<div id="part-1-loading-and-preprocessing-the-data" class="section level2">
<h2>Part 1: Loading and preprocessing the data</h2>
<p>The dataset for this analysis is the <a href="https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip">Activity Monitoring Data</a> and it was downloaded from Cloudfront, unzipped and read into the R Environment using the following code:</p>
<pre class="r"><code>download.file(&quot;https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip&quot;,&quot;Activity Monitoring Data&quot;)
unzip(&quot;Activity Monitoring Data&quot;)
activityData &lt;- read.csv(&quot;activity.csv&quot;)</code></pre>
<p>No transformations of the data were required at this point.</p>
</div>
<div id="part-2-mean-total-number-of-steps-taken-per-day" class="section level2">
<h2>Part 2: Mean total number of steps taken per day</h2>
<p>As instructed, missing values were ignored for this part of the assignment. This part of the assignment has 3 tasks.</p>
<div id="calculate-the-total-number-of-steps-taken-per-day" class="section level3">
<h3>2.1 Calculate the total number of steps taken per day</h3>
<p>To do this calculation, the <code>aggregate()</code> function was used as follows:</p>
<pre class="r"><code>totalByDay &lt;- aggregate(activityData$steps, by=list(activityData$date), FUN=sum)
head(totalByDay)</code></pre>
<pre><code>##      Group.1     x
## 1 2012-10-01    NA
## 2 2012-10-02   126
## 3 2012-10-03 11352
## 4 2012-10-04 12116
## 5 2012-10-05 13294
## 6 2012-10-06 15420</code></pre>
</div>
<div id="make-a-histogram-of-the-total-number-of-steps-taken-per-day" class="section level3">
<h3>2.2 Make a histogram of the total number of steps taken per day</h3>
<p>The <code>base</code> plotting system was used for this task.</p>
<pre class="r"><code>hist(totalByDay$x, main=&quot;Total steps by day&quot;, xlab=&quot;Steps&quot;, col=&quot;steelblue&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-3-1.png" title="" alt="" width="672" /></p>
</div>
<div id="calculate-and-report-the-mean-and-median-total-number-of-setps-taken-per-day" class="section level3">
<h3>2.3 Calculate and report the mean and median total number of setps taken per day</h3>
<p>Here’s the code used for this calculation. Please notice the <code>na.rm</code> option set to <code>TRUE</code> in order to be able to calculate the numbers despite the missing values.</p>
<pre class="r"><code>meanTotalByDay &lt;- mean(totalByDay$x, na.rm= TRUE)
medianTotalByDay &lt;- median(totalByDay$x, na.rm= TRUE)
cat(&quot;The mean total number of steps taken per day is&quot;, meanTotalByDay, &quot;steps, and the median total number of steps taken per day is&quot;, medianTotalByDay, &quot;steps.&quot;)</code></pre>
<pre><code>## The mean total number of steps taken per day is 10766.19 steps, and the median total number of steps taken per day is 10765 steps.</code></pre>
</div>
</div>
<div id="part-3-whats-the-average-daily-activity-pattern" class="section level2">
<h2>Part 3: What’s the average daily activity pattern?</h2>
<p>For this part of the assignment, a time series plot must be presented. The plot should include each 5 minute interval in the X-axis along with the average number of steps taken on that interval, across all days. Afterwards, the interval with the highest average across all days must be calculated and reported. Here’s the code, using the <code>aggregate()</code> function once again, as well as the <code>base</code> plotting system.</p>
<pre class="r"><code>intervalAverageAcrossAllDays &lt;- aggregate(activityData$steps, by = list(activityData$interval), FUN = mean, na.rm= TRUE)
head(intervalAverageAcrossAllDays)</code></pre>
<pre><code>##   Group.1         x
## 1       0 1.7169811
## 2       5 0.3396226
## 3      10 0.1320755
## 4      15 0.1509434
## 5      20 0.0754717
## 6      25 2.0943396</code></pre>
<pre class="r"><code>plot(intervalAverageAcrossAllDays, type=&quot;l&quot;, main=&quot;Average Daily Activity Pattern&quot;, xlab= &quot;Interval&quot;, ylab= &quot;Average of steps&quot;, col= &quot;steelblue&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-5-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>highestInterval &lt;- intervalAverageAcrossAllDays$Group.1[intervalAverageAcrossAllDays$x == max(intervalAverageAcrossAllDays$x)]
highestAverage &lt;- max(intervalAverageAcrossAllDays$x)
cat(&quot;The 5 minute interval with the highest average across all days is the&quot;, highestInterval, &quot;interval, with&quot;, highestAverage, &quot;steps.&quot;)</code></pre>
<pre><code>## The 5 minute interval with the highest average across all days is the 835 interval, with 206.1698 steps.</code></pre>
</div>
<div id="part-4-imputing-missing-values" class="section level2">
<h2>Part 4: Imputing missing values</h2>
<p>This section will try to introduce some values for the intervals in which they’re missing. There are 4 tasks for this section.</p>
<div id="calculate-and-report-the-number-of-missing-values-in-the-dataset" class="section level3">
<h3>4.1 Calculate and report the number of missing values in the dataset</h3>
<p>This is easily accomplished by subsetting the dataset (using the <code>is.na()</code> function) and applying the <code>length()</code> function.</p>
<pre class="r"><code>missingValues &lt;- length(activityData$steps[is.na(activityData$steps)])
cat(&quot;There are&quot;, missingValues, &quot;values missing in the dataset.&quot;)</code></pre>
<pre><code>## There are 2304 values missing in the dataset.</code></pre>
</div>
<div id="devise-a-strategy-for-filling-in-all-the-missing-values-in-the-dataset" class="section level3">
<h3>4.2 Devise a strategy for filling in all the missing values in the dataset</h3>
<p>My strategy was to use the rounded mean of each interval across all days. I think this makes more sense than using just the mean because otherwise it would mean that <em>fractional</em> steps were taken, and that doesn’t really make sense.</p>
</div>
<div id="create-a-new-dataset-equal-to-the-original-but-with-the-missing-values-filled-in" class="section level3">
<h3>4.3 Create a new dataset, equal to the original but with the missing values filled in</h3>
<p>Here’s the code I used. I would’ve liked to implement a more elegant solution, but this works fine.</p>
<pre class="r"><code>filledData &lt;- activityData
for(i in 1:length(filledData$steps))
  ifelse(is.na(filledData$steps[i]), filledData$steps[i] &lt;- round(intervalAverageAcrossAllDays$x[intervalAverageAcrossAllDays$Group.1 == filledData$interval[i]]),next)
head(filledData)</code></pre>
<pre><code>##   steps       date interval
## 1     2 2012-10-01        0
## 2     0 2012-10-01        5
## 3     0 2012-10-01       10
## 4     0 2012-10-01       15
## 5     0 2012-10-01       20
## 6     2 2012-10-01       25</code></pre>
</div>
<div id="make-a-histogram-of-the-total-number-of-steps-taken-per-day-and-calculate-the-mean-and-median" class="section level3">
<h3>4.4 Make a histogram of the total number of steps taken per day, and calculate the mean and median</h3>
<pre class="r"><code>totalByDayFilled &lt;- aggregate(filledData$steps, by = list(filledData$date), FUN= sum)
hist(totalByDayFilled$x, main=&quot;Total steps by day (without missing values)&quot;, xlab=&quot;Steps&quot;, col=&quot;coral&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-8-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>meanTotalByDayFilled &lt;- mean(totalByDayFilled$x)
medianTotalByDayFilled &lt;- median(totalByDayFilled$x)
cat(&quot;The mean total number of steps taken per day is&quot;, meanTotalByDayFilled, &quot;steps. The median is&quot;, medianTotalByDayFilled, &quot;steps.&quot;)</code></pre>
<pre><code>## The mean total number of steps taken per day is 10765.64 steps. The median is 10762 steps.</code></pre>
<p>The assignment asks <em>“Do these values differ from the estimates from the first part of the assignment?”</em> And then it asks <em>“What is the impact of imputing the missing data on the estimates of the total daily number of steps?”</em></p>
<p>The estimates don’t differ much from those of the first part of the assignment. In both cases, the difference is less than 0.03%, so I don’t think there’s a very big impact on the estimates.</p>
</div>
</div>
<div id="part-5-are-there-differences-in-activity-patterns-between-weekdays-and-weekends" class="section level2">
<h2>Part 5: Are there differences in activity patterns between weekdays and weekends?</h2>
<p>In this section, it’s first required to include a new variable in the dataset to determine if the date corresponds to a regular week day or to a weekend day.</p>
<p>As suggested in the assignments, I used the <code>weekdays()</code> function to complete this part of the assignment. Please notice that it would’ve been better for this part of the assignment to transform the <code>date</code> variable in the dataset to a <em>proper</em> date format, however I just decided to do the conversion as part of the loop.</p>
<p>Once again, I would’ve liked to implement a more elegant solution, but this works fine.</p>
<pre class="r"><code>for(day in filledData$date)
  ifelse(weekdays(strptime(day, &quot;%Y-%m-%d&quot;)) %in% list(&quot;Saturday&quot;,&quot;Sunday&quot;), filledData$WeekDay[filledData$date == day]&lt;-&quot;weekend&quot;, filledData$WeekDay[filledData$date == day]&lt;-&quot;weekday&quot;)
filledData$WeekDay &lt;- as.factor(filledData$WeekDay)
head(filledData$WeekDay)</code></pre>
<pre><code>## [1] weekday weekday weekday weekday weekday weekday
## Levels: weekday weekend</code></pre>
<p>The assignment finally asks to make a panel plot showing the difference between the regular week day activity pattern and the weekend day activity pattern.</p>
<pre class="r"><code>intervalAverageAcrossWeekdays &lt;- aggregate(filledData$steps[filledData$WeekDay == &quot;weekday&quot;], by = list(filledData$interval[filledData$WeekDay == &quot;weekday&quot;]), FUN = mean)
intervalAverageAcrossWeekends &lt;- aggregate(filledData$steps[filledData$WeekDay == &quot;weekend&quot;], by = list(filledData$interval[filledData$WeekDay == &quot;weekend&quot;]), FUN = mean)
par(mfrow = c(2,1))
plot(intervalAverageAcrossWeekdays, type=&quot;l&quot;, main=&quot;Average Weekday Activity Pattern&quot;, xlab= &quot;Interval&quot;, ylab= &quot;Average of steps&quot;, col= &quot;steelblue&quot;)
plot(intervalAverageAcrossWeekends, type=&quot;l&quot;, main=&quot;Average Weekend Activity Pattern&quot;, xlab= &quot;Interval&quot;, ylab= &quot;Average of steps&quot;, col= &quot;steelblue&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-10-1.png" title="" alt="" width="672" /></p>
<p>There seems to be more activity over the weekends than during regular week days.</p>
</div>
<div id="end-of-the-assignment." class="section level2">
<h2>End of the assignment.</h2>
<hr />
<div id="references" class="section level3">
<h3>References</h3>
<ol style="list-style-type: decimal">
<li>Peng, R. (2014). <em>Reproducible Research - Assignment: Course Project 1</em>. Retrieved on March 3rd, 2016, from Coursera. URL: <a href="https://www.coursera.org/learn/reproducible-research/peer/gYyPt/course-project-1" class="uri">https://www.coursera.org/learn/reproducible-research/peer/gYyPt/course-project-1</a></li>
</ol>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
